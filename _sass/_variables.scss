/*
 * COLORS
 */

@function custom-darken($color) {
  @return mix($color, black, 80%);
}

@function custom-invert($color) {
  $hue: hue($color);
  $saturation: saturation($color);
  $lightness: 100 - lightness($color);
  @return hsl($hue, $saturation, $lightness);
}

$color-blue:        #2C3E50;
$color-blue-dark:   custom-darken($color-blue);

$color-green:       #3A4D13;
$color-green-dark:  custom-darken($color-green);

$color-red:         #8B0000;
$color-red-dark:    custom-darken($color-red);

$color-orange:      #E65100;
$color-orange-dark: custom-darken($color-orange);

$color-gray:        desaturate($color-blue, 60%);
$color-gray-dark:   custom-darken($color-gray);
$color-gray-pale:   scale-color($color-gray, $lightness: 90%);

$color-text:        $color-gray;
$color-text-alt:    $color-gray-dark;
$color-text-accent: $color-blue-dark;

$color-link:        $color-blue;
$color-link-alt:    $color-blue-dark;

$color-link-2:      $color-green;
$color-link-2-alt:  $color-green-dark;

$color-background:  $color-gray-pale;


$root-vars: (
  color-text:            $color-gray,
  color-text-alt:        $color-gray-dark,
  color-text-accent:     $color-blue-dark,

  color-link:            $color-blue,
  color-link-alt:        $color-blue-dark,

  color-link-2:          $color-green,
  color-link-2-alt:      $color-green-dark,

  color-success:         $color-green,
  color-success-alt:     $color-green-dark,

  color-error:           $color-red,
  color-error-alt:       $color-red-dark,

  color-highlight:       $color-orange,
  color-highlight-alt:   $color-orange-dark,

  color-background:      $color-gray-pale,
  color-background-alt:  rgba($color-gray, .15),
  color-background-code: rgba($color-gray, .15),

  icon-toggle:           url('/images/icon-toggle.svg')
);


$dark-vars: (
  color-text:            custom-invert($color-gray),
  color-text-alt:        custom-invert($color-gray-dark),
  color-text-accent:     custom-invert($color-blue-dark),

  color-link:            custom-invert($color-blue),
  color-link-alt:        custom-invert($color-blue-dark),

  color-link-2:          custom-invert($color-green),
  color-link-2-alt:      custom-invert($color-green-dark),

  color-highlight:       custom-invert($color-orange),
  color-highlight-alt:   custom-invert($color-orange-dark),

  color-background:      custom-invert($color-gray-pale),
  color-background-alt:  rgba(custom-invert($color-gray-dark), .15),
  color-background-code: custom-invert($color-gray),

  icon-toggle:           url('/images/icon-toggle-dark.svg')

);

@each $name, $prop in $root-vars {
  @include set-prop($name, $prop);
}

@each $name, $prop in $dark-vars {
  @include set-prop($name, $prop, '.theme-dark');
}

@include output-props;

/*
 * BORDERS
 */
$border-color:           mix($color-text, $color-background);
$border-default:         1px solid $border-color;
$border-radius-default:  3px;

/*
 * FONTS
 */
$font-body:     Latina, Helvetica Neue, Helvetica, sans-serif;
$font-headline: $font-body;
$font-code:     monospace;

$startsmall: true;
@include remove-breakpoint(xlarge);

@include add-breakpoint(default, 0em, 1.2rem, 1.5, major-scale);
@include add-breakpoint(medium, 30em, 1.4rem, 1.618, pentatonic);
@include add-breakpoint(large, 60em, 1.6rem, 1.618, major-triad);
@include add-breakpoint(xlarge, 90em, 1.8rem, 1.618, major-triad);

@include set-hierarchy(sm p blockquote subtitle title hero);

@include type-tune(extend);

/*
 * LAYOUT
 */
$max-width: 45em;

$easing: cubic-bezier(.5, .5, .5, 1.5);
