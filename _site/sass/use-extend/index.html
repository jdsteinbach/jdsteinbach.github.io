<!DOCTYPE html> <html lang="en"¬†xmlns="https://www.w3.org/1999/xhtml"¬†xmlns:og="https://ogp.me/ns#"¬†xmlns:fb="https://www.facebook.com/2008/fbml"> <head itemscope itemtype="http://schema.org/WebSite"> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"> <meta name="theme-color" content="#5CACC4"> <title itemprop="name">When I Use (and Don‚Äôt Use) Sass Extend | James Steinbach</title> <meta name="description" content="Using Sass‚Äôs @extend directive is one of the more controversial discussions within the Sass community. On one hand, there are developers whose primary concer..."> <meta property="og:locale" content="en_US" /> <meta property="og:type" content="website" /> <meta property="og:title" content="When I Use (and Don‚Äôt Use) Sass Extend | James Steinbach" /> <meta property="og:description" content="Using Sass‚Äôs @extend directive is one of the more controversial discussions within the Sass community. On one hand, there are developers whose primary concer..." /> <meta property="og:url" content="http://localhost:4000" /> <meta property="og:site_name" content="James Steinbach " /> <meta name="twitter:card" content="summary"/> <meta name="twitter:description" content="Using Sass‚Äôs @extend directive is one of the more controversial discussions within the Sass community. On one hand, there are developers whose primary concer..."/> <meta name="twitter:title" content="When I Use (and Don‚Äôt Use) Sass Extend | James Steinbach"/> <meta name="twitter:domain" content="http://localhost:4000"/> <link rel="stylesheet" href="/css/main.css"> <link rel="canonical" href="http://localhost:4000/sass/use-extend/" itemprop="url"> <link rel="alternate" type="application/rss+xml" title="James Steinbach " href="http://localhost:4000/feed.xml" /> </head> <body> <header class="site-header" role="banner"> <div class="wrapper"> <a class="site-title" href="/">James Steinbach </a> <nav class="site-nav"> <a class="page-link" href="/css/">CSS</a> <a class="page-link" href="/sass/">Sass</a> <a class="page-link" href="/wordpress/">WP</a> <a class="page-link" href="/talks/">Talks</a> <a class="page-link" href="/about/">About</a> <a class="page-link" href="/contact/">Contact</a> </nav> </div> </header> <div class="page-content" id="main" role="main"> <div class="wrapper"> <div class="post"> <header class="post-header"> <h1 class="post-title">When I Use (and Don‚Äôt Use) Sass Extend</h1> <p class="post-meta"> <span class="date">Nov 11, 2015</span> <span class="author">James Steinbach</span> <span class="categories"> <a href="/sass" class="category-link">[Sass]</a> </span> </p> </header> <article class="post-content"> <p>Using Sass‚Äôs <code class="highlighter-rouge">@extend</code> directive is one of the more controversial discussions within the Sass community. On one hand, there are developers whose primary concern is the potential for selector bloat that comes with unrestrained use of <code class="highlighter-rouge">@extend</code>. On the other hand, there are developers who understand what <code class="highlighter-rouge">@extend</code> really does and limit their use to avoid the dangers.</p> <p>I‚Äôm in the ‚Äúuse <code class="highlighter-rouge">@extend</code> wisely‚Äù team. <a href="https://twitter.com/Una/status/664890977505570818">üòÄ</a> Here are the three limitations I put on my use of <code class="highlighter-rouge">@extend</code>.</p> <h2 id="dont-mix-nesting-and-extends">Don‚Äôt mix nesting and extends.</h2> <p>Selector bloat is a real concern, but it usually comes from one of two practices: extending a nested selector, or extending a class that‚Äôs used more frequently than expected. When there‚Äôs nesting on the extended block and the extender‚Äôs selector, Sass is forced to create unnecessary duplicates with the nesting:</p> <div class="language-scss highlighter-rouge"><pre class="highlight"><code><span class="c1">// Nested Input
</span><span class="nt">header</span> <span class="nc">.class1</span> <span class="p">{</span>
  <span class="nl">color</span><span class="p">:</span> <span class="no">red</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.class2</span> <span class="p">{</span>
  <span class="nt">footer</span> <span class="k">&amp;</span> <span class="p">{</span>
    <span class="k">@extend</span> <span class="nc">.class1</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Bloated Output
</span><span class="nt">header</span> <span class="nc">.class1</span><span class="o">,</span>
<span class="nt">header</span> <span class="nt">footer</span> <span class="nc">.class2</span><span class="o">,</span>
<span class="nt">footer</span> <span class="nt">header</span> <span class="nc">.class2</span> <span class="p">{</span>
  <span class="nl">color</span><span class="p">:</span> <span class="no">red</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div> <h2 id="only-extend-placeholders">Only extend placeholders.</h2> <p>As I mentioned above, the 2nd main cause of <code class="highlighter-rouge">@extend</code> selector bloat is extending a class that‚Äôs used more frequently than originally planned or expected. We can solve this concern by limiting <code class="highlighter-rouge">@extend</code> to Sass <code class="highlighter-rouge">%placeholder</code> selectors, and not actual CSS selectors (classes, tags, IDs, attributes, etc). If you try to extend an actual selector, and you or another dev uses that elsewhere in the code, you‚Äôll end up extending all those additional instances of the class.</p> <div class="language-scss highlighter-rouge"><pre class="highlight"><code><span class="c1">// Initial Selector to Extend
</span><span class="nc">.shadow-box</span> <span class="p">{</span>
  <span class="nl">background-color</span><span class="p">:</span> <span class="mh">#fff</span><span class="p">;</span>
  <span class="nl">box-shadow</span><span class="p">:</span> <span class="m">2px</span> <span class="m">2px</span> <span class="m">4px</span> <span class="nf">rgba</span><span class="p">(</span><span class="no">black</span><span class="o">,</span> <span class="mi">.5</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Added Later
</span><span class="nc">.home-page</span> <span class="nc">.shadow-box</span> <span class="p">{</span>
  <span class="nl">background-color</span><span class="p">:</span> <span class="mh">#eee</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Extender
</span><span class="nc">.comment-card</span> <span class="p">{</span>
  <span class="k">@extend</span> <span class="nc">.shadow-box</span><span class="p">;</span>
  <span class="c1">// Yikes! I hope .comment-card is
</span>  <span class="c1">// meant to be #eee on .home-page‚Ä¶
</span><span class="p">}</span>
</code></pre></div> <div class="language-scss highlighter-rouge"><pre class="highlight"><code><span class="c1">// Better
</span><span class="nv">%shadow-box</span> <span class="p">{</span>
  <span class="nl">background-color</span><span class="p">:</span> <span class="mh">#fff</span><span class="p">;</span>
  <span class="nl">box-shadow</span><span class="p">:</span> <span class="m">2px</span> <span class="m">2px</span> <span class="m">4px</span> <span class="nf">rgba</span><span class="p">(</span><span class="no">black</span><span class="o">,</span> <span class="mi">.5</span><span class="p">);</span>
<span class="p">}</span>

<span class="nc">.shadow-box</span> <span class="p">{</span>
  <span class="k">@extend</span> <span class="nv">%shadow-box</span><span class="p">;</span>

  <span class="nc">.home-page</span> <span class="k">&amp;</span> <span class="p">{</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="mh">#eee</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nc">.comment-card</span> <span class="p">{</span>
  <span class="k">@extend</span> <span class="nv">%shadow-box</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div> <h2 id="try-to-use-an-actual-selector-instead">Try to use an actual selector instead.</h2> <p>Another important question I ask myself when I‚Äôm considering using <code class="highlighter-rouge">@extend</code> is ‚ÄúIs there a sufficiently broad CSS selector I can use for this style pattern?‚Äù If I‚Äôve got two elements that I want to style identically, why don‚Äôt they share a class or attribute? This helps me name things better. If I‚Äôm naming visually-identical elements differently in different contexts, I need to rework my classes a bit. After all, classes are not primarily intended to describe the contents of their elements, they‚Äôre meant to provide hooks for styles to catch.</p> <p>I‚Äôve seen projects that use a number of extendable classes/placeholders to mimic single-responsibility utility classes, then extend each of those utility selectors wherever needed to attach the right styles to the actual selectors. This creates a hodge-podge of selector duplication. You see, <code class="highlighter-rouge">@extend</code> doesn‚Äôt repeat styles where the directive is written: it hoists the extender‚Äôs selector up to the location of the original extended object. If you‚Äôre not aware of this, you‚Äôll likely be surprised at the way using <code class="highlighter-rouge">@extend</code> appears to ‚Äúbreak‚Äù your cascade.</p> <div class="language-scss highlighter-rouge"><pre class="highlight"><code><span class="nv">%red-box</span> <span class="p">{</span>
  <span class="nl">border</span><span class="p">:</span> <span class="m">2px</span> <span class="nb">solid</span> <span class="no">red</span><span class="p">;</span>
  <span class="nl">color</span><span class="p">:</span> <span class="nf">darken</span><span class="p">(</span><span class="no">red</span><span class="o">,</span> <span class="m">30%</span><span class="p">);</span>
<span class="p">}</span>

<span class="nv">%green-box</span> <span class="p">{</span>
  <span class="nl">border</span><span class="p">:</span> <span class="m">2px</span> <span class="nb">solid</span> <span class="no">green</span><span class="p">;</span>
  <span class="nl">color</span><span class="p">:</span> <span class="nf">darken</span><span class="p">(</span><span class="no">green</span><span class="o">,</span> <span class="m">30%</span><span class="p">);</span>
<span class="p">}</span>

<span class="nc">.box</span> <span class="p">{</span>
  <span class="k">@extend</span> <span class="nv">%green-box</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.error-box</span> <span class="p">{</span>
  <span class="k">@extend</span> <span class="nv">%red-box</span><span class="p">;</span>
<span class="p">}</span>
<span class="cm">/* You'd expect .error-box to be 2nd,
but since the selector is hoisted
to the %placeholder location,
it ends up first and won't be red.*/</span>
</code></pre></div> <p>This brings up the front-end game of <a href="/css/css-repetition-basically-whack-mole/">‚ÄúOptimization Whack-A-Mole‚Äù</a> - whenever you remove duplication from one part of your styles, it shows up somewhere else. If you avoid repeating declarations (like with <code class="highlighter-rouge">@extend</code>), you‚Äôll repeat selectors. If you avoid repeating selectors (like with <code class="highlighter-rouge">@mixin</code>s), you‚Äôll repeat declarations. If you use utility classes, you‚Äôll repeat classes throughout your HTML markup. All that to say, bending <code class="highlighter-rouge">@extend</code> to mimic utility classes doesn‚Äôt really shorten anything. It only adds cascade issues and selector repetition.</p> <p><em>Note: always gzip your stylesheets and markup. All the repeated strings (whether selectors, declaration, or markup classes) will be compressed.</em></p> </article> </div> </div> </div> <footer class="site-footer" role="contentinfo"> <div class="wrapper"> <!-- Begin MailChimp Signup Form --> <div id="mc_embed_signup"> <!-- Submit via Ajax: http://stackoverflow.com/a/16172798 --> <form action="//jamessteinbach.us7.list-manage.com/subscribe/post?u=e06400c5106eb26339f4a0aea&amp;id=35bef0e04e" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate> <div id="mc_embed_signup_scroll"> <h2>Get New Posts &amp; Other Content in Your Inbox!</h2> <div class="mc-fields"> <div class="indicates-required"><span class="asterisk">*</span> indicates required</div> <div class="mc-field-group email"> <label for="mce-EMAIL">Email Address<span class="asterisk">*</span></label> <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL"> </div> <div class="mc-field-group fname"> <label for="mce-FNAME">First Name</label> <input type="text" value="" name="FNAME" class="" id="mce-FNAME"> </div> <div class="mc-field-group lname"> <label for="mce-LNAME">Last Name </label> <input type="text" value="" name="LNAME" class="" id="mce-LNAME"> </div> </div> <div id="mce-responses" class="clear"> <div class="response" id="mce-error-response" style="display:none"></div> <div class="response" id="mce-success-response" style="display:none"></div> </div> <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups--> <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_e06400c5106eb26339f4a0aea_35bef0e04e" tabindex="-1" value=""></div> <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button button-alt"> <p class="mc-ref">Powered by <a href="http://eepurl.com/AtwTT" title="MailChimp - email marketing made easy and fun">MailChimp</a></p> </div> </form> </div> <!--End mc_embed_signup--> </div> <div class="wrapper"> <div class="footer-col-wrapper"> <div class="footer-col footer-col-1"> <ul class="contact-list"> <li>James Steinbach</li> <li><a href="mailto:jdsteinbach@gmail.com">jdsteinbach@gmail.com</a></li> </ul> </div> <div class="footer-col footer-col-2"> <ul class="social-media-list"> <li> <a href="https://github.com/jdsteinbach"> <span class="icon icon--github"> <svg viewBox="0 0 16 16"> <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/> </svg> </span> <span class="username">jdsteinbach</span> </a> </li> <li> <a href="https://twitter.com/jdsteinbach"> <span class="icon icon--twitter"> <svg viewBox="0 0 16 16"> <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809 c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/> </svg> </span> <span class="username">jdsteinbach</span> </a> </li> </ul> </div> <div class="footer-col footer-col-3"> <p class="text">Front-end architect. Speaker & writer.<br/>Sass, CSS animation, RWD &amp; WP. </p> </div> </div> </div> </footer> <script> if (window.localStorage) { if (localStorage.getItem('theme') === 'dark') { document.body.classList.add('theme-dark'); } else { document.body.classList.remove('theme-dark'); } } </script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-43397146-5', 'auto'); ga('send', 'pageview'); </script> <script async src="/js/site.js"></script> </body> </html>
