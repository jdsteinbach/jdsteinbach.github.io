<!DOCTYPE html> <html lang="en" xmlns="https://www.w3.org/1999/xhtml" xmlns:og="https://ogp.me/ns#" xmlns:fb="https://www.facebook.com/2008/fbml"> <head itemscope itemtype="http://schema.org/WebSite"> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"> <meta name="theme-color" content="#5CACC4"> <title itemprop="name">CSS (Sass) for Content-Agnostic Numbered Headings | James Steinbach</title> <meta name="description" content="You’re writing a blog post or other HTML document and you want to number your h2 and h3 elements to give users a sense of where they are in the page’s logica..."> <meta property="og:locale" content="en_US" /> <meta property="og:type" content="website" /> <meta property="og:title" content="CSS (Sass) for Content-Agnostic Numbered Headings | James Steinbach" /> <meta property="og:description" content="You’re writing a blog post or other HTML document and you want to number your h2 and h3 elements to give users a sense of where they are in the page’s logica..." /> <meta property="og:url" content="http://localhost:4000" /> <meta property="og:site_name" content="James Steinbach " /> <meta name="twitter:card" content="summary"/> <meta name="twitter:description" content="You’re writing a blog post or other HTML document and you want to number your h2 and h3 elements to give users a sense of where they are in the page’s logica..."/> <meta name="twitter:title" content="CSS (Sass) for Content-Agnostic Numbered Headings | James Steinbach"/> <meta name="twitter:domain" content="http://localhost:4000"/> <link rel="stylesheet" href="/css/main.css"> <link rel="canonical" href="http://localhost:4000/sass/numbered-headings/" itemprop="url"> <link rel="alternate" type="application/rss+xml" title="James Steinbach " href="http://localhost:4000/feed.xml" /> </head> <body> <header class="site-header" role="banner"> <div class="wrapper"> <a class="site-title" href="/">James Steinbach </a> <nav class="site-nav"> <a class="page-link" href="/css/">CSS</a> <a class="page-link" href="/sass/">Sass</a> <a class="page-link" href="/wordpress/">WP</a> <a class="page-link" href="/talks/">Talks</a> <a class="page-link" href="/about/">About</a> <a class="page-link" href="/contact/">Contact</a> </nav> </div> </header> <div class="page-content" id="main" role="main"> <div class="wrapper"> <div class="post"> <header class="post-header"> <h1 class="post-title">CSS (Sass) for Content-Agnostic Numbered Headings</h1> <p class="post-meta"> <span class="date">Feb 22, 2016</span> <span class="author">James Steinbach</span> <span class="categories"> <a href="/css" class="category-link">[CSS]</a> <a href="/sass" class="category-link">[Sass]</a> </span> </p> </header> <article class="post-content"> <p>You’re writing a blog post or other HTML document and you want to number your <code class="highlighter-rouge">h2</code> and <code class="highlighter-rouge">h3</code> elements to give users a sense of where they are in the page’s logical flow. Or perhaps you’re maintaining legal content or technical documentation that needs to have numbered <code class="highlighter-rouge">h2</code>, <code class="highlighter-rouge">h3</code>, etc elements. I suppose you could nest the content of your entire document in a bunch of nested lists, or you could write the outline-style numbering by hand. Or … perhaps there’s a better way that only requires CSS.</p> <p>We’ll start by checkout the code that makes this happen. What you see below is a Sass mixin, but you can do this with just the CSS output if you like.</p> <div class="language-scss highlighter-rouge"><pre class="highlight"><code><span class="k">@mixin</span> <span class="nf">generate-outline</span><span class="p">(</span><span class="nv">$reset-element</span><span class="o">:</span> <span class="n">body</span><span class="o">,</span> <span class="nv">$list-style</span><span class="o">:</span> <span class="nb">decimal</span><span class="p">)</span> <span class="p">{</span>
  <span class="nv">$counter</span><span class="p">:</span> <span class="nf">unique-id</span><span class="p">();</span>

  <span class="nl">counter-increment</span><span class="p">:</span> <span class="nv">$counter</span><span class="p">;</span>

  <span class="err">&amp;</span><span class="p">:</span><span class="o">:</span><span class="n">before</span> <span class="p">{</span>
    <span class="nl">content</span><span class="p">:</span> <span class="nf">counter</span><span class="p">(</span><span class="nv">$counter</span><span class="o">,</span> <span class="nv">$list-style</span><span class="p">)</span><span class="s1">'. '</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">@at-root</span> <span class="p">{</span>
    <span class="si">#{</span><span class="nv">$reset-element</span><span class="si">}</span> <span class="p">{</span>
      <span class="nl">counter-reset</span><span class="p">:</span> <span class="nv">$counter</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// How to use it
</span><span class="nt">h2</span> <span class="p">{</span>
  <span class="k">@include</span> <span class="nd">generate-outline</span><span class="p">(</span><span class="n">h1</span><span class="o">,</span> <span class="nb">upper-alpha</span><span class="p">);</span>
<span class="p">}</span>

<span class="nt">h3</span> <span class="p">{</span>
  <span class="k">@include</span> <span class="nd">generate-outline</span><span class="p">(</span><span class="n">h2</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div> <h2 id="setting-up-defaults">Setting Up Defaults</h2> <p>You’ll use the <code class="highlighter-rouge">generate-outline()</code> mixin on each selector you want to number. The mixin takes two optional arguments: <code class="highlighter-rouge">$reset-element</code> and <code class="highlighter-rouge">$list-style</code>. <code class="highlighter-rouge">$reset-element</code> is the selector that you want to restart your numbering at. For example, if you want to number your <code class="highlighter-rouge">h3</code> elements, but restart that count everytime your markup includes an <code class="highlighter-rouge">h2</code>, you would call <code class="highlighter-rouge">@include generate-outline(h2);</code> in your <code class="highlighter-rouge">h3</code> declaration block. If you leave <code class="highlighter-rouge">$reset-element</code> empty, the mixin will default to <code class="highlighter-rouge">body</code>.</p> <p>The second argument is <code class="highlighter-rouge">$list-style</code> and should be a <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/list-style-type#Values">valid value for the CSS <code class="highlighter-rouge">list-style-type</code> property</a>. If you leave it blank, <code class="highlighter-rouge">$list-style</code> will default to <code class="highlighter-rouge">decimal</code>.</p> <h2 id="using-css-counters">Using CSS Counters</h2> <p>The Sass mixin <code class="highlighter-rouge">generate-outline()</code> automates the use of CSS counters. There are 3 CSS properties we need to use to see counters in action.</p> <p>Each level of counter needs a unique name. In the Sass above, we’re creating that name by using the Sass <a href="http://sass-lang.com/documentation/Sass/Script/Functions.html#miscellaneous_functions"><code class="highlighter-rouge">unique-id()</code> function</a>. If you’re just using CSS, you’ll need to choose a different name for each level of numbering.</p> <p>We can increment that counter by using <code class="highlighter-rouge">counter-increment: $name;</code> on the element that’ll show the counter’s number.</p> <p>We’ll use the <code class="highlighter-rouge">::before</code> pseudoelement and the CSS <code class="highlighter-rouge">content</code> property to display that counter on each heading: <code class="highlighter-rouge">content: counter($name)'. ';</code>. Notice that we’re putting the string <code class="highlighter-rouge">'. '</code> on the end of each number. This makes sure we get “A. Heading” instead of “AHeading.”</p> <p>For the 2nd level of numbered headings, we’ll need to reset that counter every time an element in the 1st level of headings goes by. The Sass mixin gets the position of the current level in the <code class="highlighter-rouge">$headings</code> map - if it’s a 2nd (or deeper) level counter, the mixin will get the next element above it, and use that element to reset the counter. If the current element is the first element in the loop, the mixin will just attach <code class="highlighter-rouge">counter-reset: $name;</code> to the <code class="highlighter-rouge">body</code> element.</p> <h2 id="output-numbered-headings">Output: Numbered Headings</h2> <p>With the CSS we’ve just generated, we’ve attached an A, B, C numbering system to all <code class="highlighter-rouge">h2</code> elements in the page, and a 1, 2, 3 numbering system to all <code class="highlighter-rouge">h3</code> elements in the page. This system doesn’t care what else you’ve got in your page: any paragraphs, blockquotes, other heading levels, images, etc – none of that affects this CSS’s ability to number <code class="highlighter-rouge">h2</code> and <code class="highlighter-rouge">h3</code> elements sequentially.</p> <p>You can see this code in action on <a href="http://codepen.io/jdsteinbach/pen/vLqwjB">this CodePen</a>.</p> <p data-height="268" data-theme-id="0" data-slug-hash="vLqwjB" data-default-tab="result" data-user="jdsteinbach" class="codepen">See the Pen <a href="http://codepen.io/jdsteinbach/pen/vLqwjB/">Sass / CSS for Numbered Document Headings</a> by James Steinbach (<a href="http://codepen.io/jdsteinbach">@jdsteinbach</a>) on <a href="http://codepen.io">CodePen</a>.</p> </article> </div> </div> </div> <footer class="site-footer" role="contentinfo"> <div class="wrapper"> <!-- Begin MailChimp Signup Form --> <div id="mc_embed_signup"> <!-- Submit via Ajax: http://stackoverflow.com/a/16172798 --> <form action="//jamessteinbach.us7.list-manage.com/subscribe/post?u=e06400c5106eb26339f4a0aea&amp;id=35bef0e04e" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate> <div id="mc_embed_signup_scroll"> <h2>Get New Posts &amp; Other Content in Your Inbox!</h2> <div class="mc-fields"> <div class="indicates-required"><span class="asterisk">*</span> indicates required</div> <div class="mc-field-group email"> <label for="mce-EMAIL">Email Address<span class="asterisk">*</span></label> <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL"> </div> <div class="mc-field-group fname"> <label for="mce-FNAME">First Name</label> <input type="text" value="" name="FNAME" class="" id="mce-FNAME"> </div> <div class="mc-field-group lname"> <label for="mce-LNAME">Last Name </label> <input type="text" value="" name="LNAME" class="" id="mce-LNAME"> </div> </div> <div id="mce-responses" class="clear"> <div class="response" id="mce-error-response" style="display:none"></div> <div class="response" id="mce-success-response" style="display:none"></div> </div> <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups--> <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_e06400c5106eb26339f4a0aea_35bef0e04e" tabindex="-1" value=""></div> <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button button-alt"> <p class="mc-ref">Powered by <a href="http://eepurl.com/AtwTT" title="MailChimp - email marketing made easy and fun">MailChimp</a></p> </div> </form> </div> <!--End mc_embed_signup--> </div> <div class="wrapper"> <div class="footer-col-wrapper"> <div class="footer-col footer-col-1"> <ul class="contact-list"> <li>James Steinbach</li> <li><a href="mailto:jdsteinbach@gmail.com">jdsteinbach@gmail.com</a></li> </ul> </div> <div class="footer-col footer-col-2"> <ul class="social-media-list"> <li> <a href="https://github.com/jdsteinbach"> <span class="icon icon--github"> <svg viewBox="0 0 16 16"> <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/> </svg> </span> <span class="username">jdsteinbach</span> </a> </li> <li> <a href="https://twitter.com/jdsteinbach"> <span class="icon icon--twitter"> <svg viewBox="0 0 16 16"> <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809 c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/> </svg> </span> <span class="username">jdsteinbach</span> </a> </li> </ul> </div> <div class="footer-col footer-col-3"> <p class="text">Front-end architect. Speaker & writer.<br/>Sass, CSS animation, RWD &amp; WP. </p> </div> </div> </div> </footer> <script> if (window.localStorage) { if (localStorage.getItem('theme') === 'dark') { document.body.classList.add('theme-dark'); } else { document.body.classList.remove('theme-dark'); } } </script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-43397146-5', 'auto'); ga('send', 'pageview'); </script> <script async src="/js/site.js"></script> <script defer src="//assets.codepen.io/assets/embed/ei.js"></script> </body> </html>
