<!DOCTYPE html> <html lang="en" xmlns="https://www.w3.org/1999/xhtml" xmlns:og="https://ogp.me/ns#" xmlns:fb="https://www.facebook.com/2008/fbml"> <head itemscope itemtype="http://schema.org/WebSite"> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"> <meta name="theme-color" content="#5CACC4"> <title itemprop="name">Use Cases for CSS Variables | James Steinbach</title> <meta name="description" content="It’s time to start exploring use cases for CSS variables, now that Firefox supports them. Chrome has toyed with CSS variables before. That means that this po..."> <meta property="og:locale" content="en_US" /> <meta property="og:type" content="website" /> <meta property="og:title" content="Use Cases for CSS Variables | James Steinbach" /> <meta property="og:description" content="It’s time to start exploring use cases for CSS variables, now that Firefox supports them. Chrome has toyed with CSS variables before. That means that this po..." /> <meta property="og:url" content="http://localhost:4000" /> <meta property="og:site_name" content="James Steinbach " /> <meta name="twitter:card" content="summary"/> <meta name="twitter:description" content="It’s time to start exploring use cases for CSS variables, now that Firefox supports them. Chrome has toyed with CSS variables before. That means that this po..."/> <meta name="twitter:title" content="Use Cases for CSS Variables | James Steinbach"/> <meta name="twitter:domain" content="http://localhost:4000"/> <link rel="stylesheet" href="/css/main.css"> <link rel="canonical" href="http://localhost:4000/css/use-cases-css-variables/" itemprop="url"> <link rel="alternate" type="application/rss+xml" title="James Steinbach " href="http://localhost:4000/feed.xml" /> </head> <body> <header class="site-header" role="banner"> <div class="wrapper"> <a class="site-title" href="/">James Steinbach </a> <nav class="site-nav"> <a class="page-link" href="/css/">CSS</a> <a class="page-link" href="/sass/">Sass</a> <a class="page-link" href="/wordpress/">WP</a> <a class="page-link" href="/talks/">Talks</a> <a class="page-link" href="/about/">About</a> <a class="page-link" href="/contact/">Contact</a> </nav> </div> </header> <div class="page-content" id="main" role="main"> <div class="wrapper"> <div class="post"> <header class="post-header"> <h1 class="post-title">Use Cases for CSS Variables</h1> <p class="post-meta"> <span class="date">Sep 12, 2014</span> <span class="author">James Steinbach</span> <span class="categories"> <a href="/css" class="category-link">[CSS]</a> </span> </p> </header> <article class="post-content"> <p>It’s time to start exploring use cases for CSS variables, now that <a title="CSS Variable data on Can I Use" href="http://caniuse.com/#feat=css-variables" target="_blank">Firefox supports them</a>. <a title="Chrome no longer supports CSS variables" href="http://stackoverflow.com/questions/18466569/enable-experimental-webkit-features-chrome-css-css3-variables" target="_blank">Chrome has toyed with CSS variables</a> before. That means that <strong>this post &amp; all the embedded pens will only work in Firefox</strong>.</p> <p>If you’re a fan of pre-processors, you might share my first reaction to CSS variables: “I’m already using variables in [Sass/Less/Stylus]; why introduce something new?” First, the ability to change these values live in a browser is pretty powerful. Second, native CSS variables will allow us to write lighter, more efficient stylesheets. In a series of follow-up posts to this one, I’ll go more in-depth comparing pre-processor variables with native CSS variables for each of the use cases introduced below.</p> <h2 id="basic-syntax">Basic Syntax</h2> <p>To define a native CSS variable globally, use the following syntax:</p> <div class="language-css highlighter-rouge"><pre class="highlight"><code><span class="nd">:root</span><span class="p">{</span>
  <span class="py">--color-primary</span><span class="p">:</span> <span class="m">#001f3f</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div> <p>To use that variable in a property, call it with the <code class="highlighter-rouge">var()</code> wrapper:</p> <div class="language-css highlighter-rouge"><pre class="highlight"><code><span class="nt">p</span> <span class="p">{</span>
  <span class="nl">color</span><span class="p">:</span> <span class="n">var</span><span class="p">(</span><span class="n">--color-primary</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div> <p>Because that variable is scoped to <code class="highlighter-rouge">:root</code>, it’s global. Any place in the stylesheet it appears, it will return that same value. CSS variables can be scoped to any element, however, making it possible to create “exceptions.” The following use cases show the power of locally-scoped CSS variables.</p> <h2 id="use-cases">Use Cases</h2> <h3 id="colors">Colors</h3> <p>Let’s look at an example of scoping variables for color changes. In this use case, the “normal” color for <code class="highlighter-rouge">&lt;h1&gt;</code> elements will be the site accent red. However, the site also uses <code class="highlighter-rouge">&lt;h1&gt;</code> elements for the titles of widgets in the <code class="highlighter-rouge">&lt;aside&gt;</code> sidebar. We can redeclare the <code class="highlighter-rouge">--color-accent</code> variable in an <code class="highlighter-rouge">&lt;aside&gt;</code>: now any <code class="highlighter-rouge">&lt;h1&gt;</code> in a widget will be orange instead of red.</p> <div class="language-css highlighter-rouge"><pre class="highlight"><code><span class="nd">:root</span><span class="p">{</span>
  <span class="py">--color-accent</span><span class="p">:</span> <span class="m">#ff4136</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">h1</span> <span class="p">{</span>
  <span class="nl">color</span><span class="p">:</span> <span class="n">var</span><span class="p">(</span><span class="n">--color-accent</span><span class="p">);</span>
<span class="p">}</span>
<span class="nt">aside</span> <span class="p">{</span>
  <span class="py">--color-accent</span><span class="p">:</span> <span class="m">#ff851b</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div> <h3 id="font-sizes">Font Sizes</h3> <p>Font sizes can be changed with CSS variable scoping as well. This example works well in the same scenario as the sidebar colors above:</p> <div class="language-css highlighter-rouge"><pre class="highlight"><code><span class="nd">:root</span><span class="p">{</span>
  <span class="py">--heading-size</span><span class="p">:</span> <span class="m">32px</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">h1</span> <span class="p">{</span>
  <span class="nl">font-size</span><span class="p">:</span> <span class="n">var</span><span class="p">(</span><span class="n">--heading-size</span><span class="p">);</span>
<span class="p">}</span>
<span class="nt">aside</span> <span class="p">{</span>
  <span class="py">--heading-size</span><span class="p">:</span> <span class="m">24px</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div> <h3 id="svgs">SVGs</h3> <p>Inline SVG images can be styled with CSS: variables can change SVG colors based on context. Amelia Bellamy-Royds has already written a <a title="CSS Variables and SVGs" href="http://codepen.io/AmeliaBR/thoughts/customizable-svg-icons-css-variables" target="_blank">great CodePen blog post on SVGs and CSS variables</a>, so I’ll just link you to it and let her explain how it works.</p> <h3 id="grid-layouts">Grid Layouts</h3> <p>Grid layouts are one of the trendiest parts of modern web development to automate. There are probably dozens of grid frameworks written in JS, CSS, Sass, etc. We can use native CSS variables to set up custom grid layouts simply.</p> <p>In this example, we’ll only need one set of styles for all our grid elements, regardless of the number of columns they’ll be presented with. (Note, this is a really simplistic grid layout.)</p> <p>Each container element will display its <code class="highlighter-rouge">.grid-item</code> children according to the <code class="highlighter-rouge">--grid-width</code> percentage scoped to that particular container.</p> <div class="language-css highlighter-rouge"><pre class="highlight"><code><span class="nd">:root</span> <span class="p">{</span>
  <span class="py">--grid-width</span><span class="p">:</span> <span class="m">20%</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.grid-item</span> <span class="p">{</span>
  <span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span>
  <span class="nl">width</span><span class="p">:</span> <span class="n">var</span><span class="p">(</span><span class="n">--grid-width</span><span class="p">);</span>
<span class="p">}</span>
<span class="nc">.products-grid</span> <span class="p">{</span>
  <span class="py">--grid-width</span><span class="p">:</span> <span class="m">25%</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.portfolio-grid</span> <span class="p">{</span>
  <span class="py">--grid-width</span><span class="p">:</span> <span class="m">33%</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div> <h3 id="column-proportions">Column Proportions</h3> <p>Body vs. sidebar proportions can be managed with CSS variables as well:</p> <div class="language-css highlighter-rouge"><pre class="highlight"><code><span class="nd">:root</span><span class="p">{</span>
  <span class="py">--content-width</span><span class="p">:</span> <span class="m">75%</span><span class="p">;</span>
  <span class="py">--sidebar-width</span><span class="p">:</span> <span class="m">25%</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.page-content</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="n">var</span><span class="p">(</span><span class="n">--content-width</span><span class="p">);</span>
<span class="p">}</span>
<span class="nc">.page-sidebar</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="n">var</span><span class="p">(</span><span class="n">--sidebar-width</span><span class="p">);</span>
<span class="p">}</span>
<span class="nc">.has-wide-sidebar</span> <span class="p">{</span>
  <span class="py">--content-width</span><span class="p">:</span> <span class="m">62.5%</span><span class="p">;</span>
  <span class="py">--sidebar-width</span><span class="p">:</span> <span class="m">37.5%</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div> <h3 id="buttons">Buttons</h3> <p>Next to grid layouts, buttons are everyone’s favorite place to automate styling. CSS variables are useful here.</p> <div class="language-css highlighter-rouge"><pre class="highlight"><code><span class="nd">:root</span><span class="p">{</span>
  <span class="py">--button-color</span><span class="p">:</span> <span class="m">#ff4136</span><span class="p">;</span>
  <span class="py">--button-color-dark</span><span class="p">:</span> <span class="m">#cc0e03</span><span class="p">;</span>
  <span class="py">--button-color-light</span><span class="p">:</span> <span class="m">#ff7469</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.button</span> <span class="p">{</span>
  <span class="nl">background-color</span><span class="p">:</span> <span class="n">var</span><span class="p">(</span><span class="n">--button-color</span><span class="p">);</span>
  <span class="nl">box-shadow</span><span class="p">:</span> <span class="m">1px</span> <span class="m">2px</span> <span class="m">0</span> <span class="n">var</span><span class="p">(</span><span class="n">--button-color-dark</span><span class="p">);</span>
<span class="p">}</span>
<span class="nc">.button</span><span class="nd">:hover</span> <span class="p">{</span>
  <span class="nl">background-color</span><span class="p">:</span> <span class="n">var</span><span class="p">(</span><span class="n">--button-color-dark</span><span class="p">);</span>
  <span class="nl">box-shadow</span><span class="p">:</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="n">var</span><span class="p">(</span><span class="n">--button-color-dark</span><span class="p">);</span>
<span class="p">}</span>
<span class="nc">.button</span><span class="nd">:active</span> <span class="p">{</span>
  <span class="nl">background-color</span><span class="p">:</span> <span class="n">var</span><span class="p">(</span><span class="n">--button-color-light</span><span class="p">);</span>
  <span class="nl">box-shadow</span><span class="p">:</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="n">var</span><span class="p">(</span><span class="n">--button-color-dark</span><span class="p">);</span>
<span class="p">}</span>
<span class="nc">.contact-form</span> <span class="p">{</span>
  <span class="py">--button-color</span><span class="p">:</span> <span class="m">#ff851b</span><span class="p">;</span>
  <span class="py">--button-color-dark</span><span class="p">:</span> <span class="m">#cc5200</span><span class="p">;</span>
  <span class="py">--button-color-light</span><span class="p">:</span> <span class="m">#ffb84e</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div> <h3 id="js-changes">JS Changes</h3> <p>One benefit of native CSS variables is that they can be changed in real time with JavaScript. This is nice for user-enabled theme changing or for easily demoing multiple layouts / color scheme options for a client. The following JS function changes the value of the <code class="highlighter-rouge">--color-primary</code> variable.</p> <div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">body</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">"body"</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
<span class="kd">function</span> <span class="nx">change_vars</span><span class="p">(){</span>
  <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">body</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="s1">'changed'</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
    <span class="nx">body</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">setProperty</span><span class="p">(</span><span class="s1">'--color-primary'</span><span class="p">,</span> <span class="s1">'#8e44ad'</span><span class="p">);</span>
    <span class="nx">body</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">'changed'</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">body</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">setProperty</span><span class="p">(</span><span class="s1">'--color-primary'</span><span class="p">,</span> <span class="s1">'#2980b9'</span><span class="p">);</span>
    <span class="nx">body</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="s1">'changed'</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div> <h2 id="conclusion">Conclusion</h2> <p>So many good uses, and we’re barely getting started… Use the comments to ask follow-up questions or share your ideas for using CSS variables. And of course, stay tuned for more detailed posts comparing native CSS variables to pre-processor variables in these use cases.</p> <p>You can see all these <a title="CSS Variables: CodePen Demo" href="http://codepen.io/jdsteinbach/pen/AeEwk" target="_blank">CSS Variable use cases in a single CodePen</a> here.</p> </article> </div> </div> </div> <footer class="site-footer" role="contentinfo"> <div class="wrapper"> <!-- Begin MailChimp Signup Form --> <div id="mc_embed_signup"> <!-- Submit via Ajax: http://stackoverflow.com/a/16172798 --> <form action="//jamessteinbach.us7.list-manage.com/subscribe/post?u=e06400c5106eb26339f4a0aea&amp;id=35bef0e04e" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate> <div id="mc_embed_signup_scroll"> <h2>Get New Posts &amp; Other Content in Your Inbox!</h2> <div class="mc-fields"> <div class="indicates-required"><span class="asterisk">*</span> indicates required</div> <div class="mc-field-group email"> <label for="mce-EMAIL">Email Address<span class="asterisk">*</span></label> <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL"> </div> <div class="mc-field-group fname"> <label for="mce-FNAME">First Name</label> <input type="text" value="" name="FNAME" class="" id="mce-FNAME"> </div> <div class="mc-field-group lname"> <label for="mce-LNAME">Last Name </label> <input type="text" value="" name="LNAME" class="" id="mce-LNAME"> </div> </div> <div id="mce-responses" class="clear"> <div class="response" id="mce-error-response" style="display:none"></div> <div class="response" id="mce-success-response" style="display:none"></div> </div> <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups--> <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_e06400c5106eb26339f4a0aea_35bef0e04e" tabindex="-1" value=""></div> <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button button-alt"> <p class="mc-ref">Powered by <a href="http://eepurl.com/AtwTT" title="MailChimp - email marketing made easy and fun">MailChimp</a></p> </div> </form> </div> <!--End mc_embed_signup--> </div> <div class="wrapper"> <div class="footer-col-wrapper"> <div class="footer-col footer-col-1"> <ul class="contact-list"> <li>James Steinbach</li> <li><a href="mailto:jdsteinbach@gmail.com">jdsteinbach@gmail.com</a></li> </ul> </div> <div class="footer-col footer-col-2"> <ul class="social-media-list"> <li> <a href="https://github.com/jdsteinbach"> <span class="icon icon--github"> <svg viewBox="0 0 16 16"> <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/> </svg> </span> <span class="username">jdsteinbach</span> </a> </li> <li> <a href="https://twitter.com/jdsteinbach"> <span class="icon icon--twitter"> <svg viewBox="0 0 16 16"> <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809 c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/> </svg> </span> <span class="username">jdsteinbach</span> </a> </li> </ul> </div> <div class="footer-col footer-col-3"> <p class="text">Front-end architect. Speaker & writer.<br/>Sass, CSS animation, RWD &amp; WP. </p> </div> </div> </div> </footer> <script> if (window.localStorage) { if (localStorage.getItem('theme') === 'dark') { document.body.classList.add('theme-dark'); } else { document.body.classList.remove('theme-dark'); } } </script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-43397146-5', 'auto'); ga('send', 'pageview'); </script> <script async src="/js/site.js"></script> <script defer src="//assets.codepen.io/assets/embed/ei.js"></script> </body> </html>
